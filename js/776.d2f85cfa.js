"use strict";(self["webpackChunkweb_front"]=self["webpackChunkweb_front"]||[]).push([[776],{95776:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_form"},[t("div",{staticClass:"login_right"},[e.allowRegister?t("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[t("FormItem",{staticStyle:{"text-align":"center"}},[t("ButtonGroup",e._l(e.buttonLists,(function(r,i){return t("Button",{key:r.text,class:{active:e.changeActive==i}},[e._v(e._s(r.text))])})),1)],1),t("FormItem",{attrs:{prop:"email"}},[t("Input",{attrs:{type:"text",placeholder:e.$t("uc.regist.emailregist")},model:{value:e.formInline.email,callback:function(t){e.$set(e.formInline,"email",t)},expression:"formInline.email"}})],1),t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:e.$t("uc.regist.username")},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),t("FormItem",{attrs:{prop:"user"}},[0==e.changeActive?t("Input",{attrs:{type:"text",placeholder:e.key},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}},[t("Select",{staticStyle:{width:"65px","border-bottom":"1px solid #27313e"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryList,(function(r){return t("Option",{key:r.code,attrs:{value:r.code,label:r.areacode}},[t("span",[e._v(e._s(r.areacode))]),t("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[e._v(e._s(e.$t(r.label)))])])})),1)],1):e._e()],1),t("FormItem",{staticClass:"password",attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:e.$t("uc.regist.pwd")},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}})],1),t("FormItem",{staticClass:"password",attrs:{prop:"repassword"}},[t("Input",{attrs:{type:"password",placeholder:e.$t("uc.regist.repwd")},model:{value:e.formInline.repassword,callback:function(t){e.$set(e.formInline,"repassword",t)},expression:"formInline.repassword"}})],1),t("FormItem",{staticClass:"password",attrs:{prop:"promo_code"}},[t("Input",{attrs:{type:"text",placeholder:"推薦碼(選填)"},model:{value:e.formInline.promo_code,callback:function(t){e.$set(e.formInline,"promo_code",t)},expression:"formInline.promo_code"}})],1),t("div",{staticClass:"check-agree"},[t("label",[t("Checkbox",{model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v(e._s(e.$t("uc.regist.agreement")))])],1),"zh_CN"==e.lang?t("a",{attrs:{href:"/helpdetail?cate=1&id=5&cateTitle=常见问题",target:"_blank"}},[e._v("《"+e._s(e.$t("uc.regist.userprotocol"))+"》")]):e._e(),"en_US"==e.lang?t("a",{attrs:{href:"/helpdetail?cate=1&id=35&cateTitle=Privacy Policy",target:"_blank"}},[e._v("《"+e._s(e.$t("uc.regist.userprotocol"))+"》")]):e._e()]),t("FormItem",[t("Button",{staticClass:"register_btn",attrs:{disabled:e.registing},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v(e._s(e.$t("uc.regist.regist")))])],1)],1):t("Alert",{attrs:{type:"warning"}},[e._v(" Coming soon! "),t("template",{slot:"desc"},[e._v(" BitHot.PRO will open register soon ")])],2)],1)])},s=[],o=(r(57658),r(39563),r(77387)),n=r.n(o),a=r(37828),c={data(){const e=(e,t,r)=>{r()},t=(e,t,r)=>{var i=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;""==t?r(new Error(this.$t("uc.regist.emailtip"))):i.test(this.formInline.email)?r():r(new Error(this.$t("uc.regist.emailerr")))},r=(e,t,r)=>{""===t?r(new Error(this.$t("uc.regist.confirmpwdtip"))):t!==this.formInline.password?r(new Error(this.$t("uc.regist.confirmpwderr"))):r()};return{country:"TW",codedisabled:!1,sendcodeValue:this.$t("uc.regist.sendcode"),isRegister:!1,ticket:"",randStr:"",registing:!1,captchaObj:null,modal1:!1,_captchaResult:null,agree:!0,allowRegister:!0,buttonLists:[{text:"會員註冊"}],areas:[],changeActive:0,showCode:!0,countdown:60,formInline:{user:"",email:"",name:"",password:"",repassword:"",country:"",phone:"",code:"",promo_code:""},countryList:[{code:"CN",areacode:"+86",label:"uc.regist.china"},{code:"SG",areacode:"+65",label:"uc.regist.singapore"},{code:"KR",areacode:"+82",label:"uc.regist.korea"},{code:"JP",areacode:"+81",label:"uc.regist.japan"},{code:"HK",areacode:"+852",label:"uc.regist.hk"},{code:"MY",areacode:"+60",label:"uc.regist.malaysia"},{code:"TW",areacode:"+886",label:"uc.regist.taiwan"}],ruleInline:{phone:[{validator:e,trigger:"blur"}],code:[{required:!0,message:this.$t("uc.regist.smscodetip"),trigger:"blur"}],password:[{required:!0,message:this.$t("uc.regist.pwdtip"),trigger:"blur"},{type:"string",min:6,message:this.$t("uc.regist.pwdmsg"),trigger:"blur"}],repassword:[{validator:r,trigger:"blur"}],email:[{validator:t,trigger:"blur"}]},key:""}},watch:{changeActive:function(e){this.$refs["formInline"].resetFields()},lang:function(){this.updateLangData()}},computed:{lang:function(){return this.$store.state.lang},isLogin:function(){return this.$store.getters.isLogin}},created:function(){window.scrollTo(0,0),this.init(),this.actives(this.changeActive),void 0!=this.$route.query.code&&""!=this.$route.query.code&&null!=this.$route.query.code?this.formInline.promotion=this.$route.query.code:this.formInline.promotion=""},methods:{updateLangData(){this.buttonLists=[{text:this.$t("uc.regist.telregist")},{text:this.$t("uc.regist.emailregist")}],0==this.changeActive?this.key=this.$t("uc.regist.telno"):this.key=this.$t("uc.regist.email")},init(){this.$store.commit("navigate","nav-other"),this.$store.state.HeaderActiveName="0",this.isLogin&&this.$router.push("/")},initGtCaptcha(){this.$http.get(this.host+this.api.uc.captcha).then((function(e){window.initGeetest({gt:e.body.gt,challenge:e.body.challenge,offline:!e.body.success,new_captcha:e.body.new_captcha,product:"bind",width:"100%",lang:"en"},this.handler)}))},handler(e){e.onReady((()=>{n()("#wait").hide()})).onSuccess((()=>{this.isRegister=!0,this.success()})),n()("#sendCode").click((()=>{this.formInline.user;const t=!0;t&&e.verify(),!t&&this.$Message.error("请填写正确的手机号或者邮箱号")}))},onAreaChange(e){for(var t=0;t<this.areas.length;t++)this.areas[t].zhName==e&&(this.formInline.areaCode=this.areas[t].areaCode)},getAreas(){this.$http.post(this.host+this.api.common.area).then((e=>{var t=e.body;this.areas=t.data,this.formInline.country=this.areas[0].zhName,this.formInline.areaCode=this.areas[0].areaCode}))},actives:function(e){this.changeActive=e,0==this.changeActive?(this.showCode=!0,this.key=this.$t("uc.regist.telno"),this.ruleInline.code=[{required:!0,message:this.$t("uc.regist.smscodetip"),trigger:"blur"}]):(this.showCode=!1,this.key=this.$t("uc.regist.email"),this.ruleInline.code=[])},handleSubmit(e){this.$refs[e].validate((e=>{if(e)if(1==this.agree){this.registing=!0;let e={name:this.formInline.username,email:this.formInline.email,password:this.formInline.password,confirm_password:this.formInline.repassword,mobile:this.countryList.find((e=>e.code==this.country)).areacode+this.formInline.phone,promo_code:this.formInline.promo_code};(0,a.DO)(e).then((e=>{this.registing=!1,"1"==e.code?(this.$Notice.success({title:this.$t("common.tip"),desc:"成功註冊帳號!"}),this.$router.push({name:"SafeLogin",params:{userId:this.formInline.email,token:e.data.verification_token,status:"add"}})):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})).catch((e=>{this.$Notice.error({title:this.$t("common.tip"),desc:response.message})}))}else this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("uc.regist.agreementtip")})}))},settime(){this.sendcodeValue=this.$t("uc.regist.resendcode")+this.countdown+")",this.codedisabled=!0;var e=this;let t=setInterval((()=>{e.countdown--,e.sendcodeValue=e.$t("uc.regist.resendcode")+e.countdown+")",this.countdown<=0&&(clearInterval(t),e.codedisabled=!1,e.sendcodeValue=e.$t("uc.regist.sendcode"),e.countdown=60)}),1e3)},success(){if(0==this.changeActive){var e={};e["phone"]=this.formInline.user,e["country"]=this.country,this.$http.post(this.host+"/uc/mobile/code",e).then((e=>{var t=e.body;0==t.code&&this.$Notice.success({title:this.$t("common.tip"),desc:t.message}),0==t.code&&this.settime(),0!=t.code&&this.$Notice.error({title:this.$t("common.tip"),desc:t.message})}))}else{e={};e["email"]=this.formInline.user,this.$http.post(this.host+"/uc/reg/email/code",e).then((e=>{var t=e.body;0==t.code&&this.$Notice.success({title:this.$t("common.tip"),desc:t.message}),0==t.code&&this.settime(),0!=t.code&&this.$Notice.error({title:this.$t("common.tip"),desc:t.message})}))}}}},l=c,u=r(1001),d=(0,u.Z)(l,i,s,!1,null,"9f1ba33c",null),h=d.exports},39563:function(e,t,r){r(57658),function(e){if("undefined"===typeof e)throw new Error("Geetest requires browser environment");var t=e.document,r=e.Math,i=t.getElementsByTagName("head")[0];function s(e){this._obj=e}function o(e){var t=this;new s(e)._each((function(e,r){t[e]=r}))}s.prototype={_each:function(e){var t=this._obj;for(var r in t)t.hasOwnProperty(r)&&e(r,t[r]);return this}},o.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return a(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var t=this;new s(e)._each((function(e,r){t[e]=r}))}};var n=function(e){return"number"===typeof e},a=function(e){return"string"===typeof e},c=function(e){return"boolean"===typeof e},l=function(e){return"object"===typeof e&&null!==e},u=function(e){return"function"===typeof e},d={},h={},p=function(){return parseInt(1e4*r.random())+(new Date).valueOf()},m=function(e,r){var s=t.createElement("script");s.charset="UTF-8",s.async=!0,s.onerror=function(){r(!0)};var o=!1;s.onload=s.onreadystatechange=function(){o||s.readyState&&"loaded"!==s.readyState&&"complete"!==s.readyState||(o=!0,setTimeout((function(){r(!1)}),0))},s.src=e,i.appendChild(s)},g=function(e){return e.replace(/^https?:\/\/|\/$/g,"")},f=function(e){return e=e.replace(/\/+/g,"/"),0!==e.indexOf("/")&&(e="/"+e),e},v=function(e){if(!e)return"";var t="?";return new s(e)._each((function(e,r){(a(r)||n(r)||c(r))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(r)+"&")})),"?"===t&&(t=""),t.replace(/&$/,"")},w=function(e,t,r,i){t=g(t);var s=f(r)+v(i);return t&&(s=e+t+s),s},b=function(e,t,r,i,s){var o=function(n){var a=w(e,t[n],r,i);m(a,(function(e){e?n>=t.length-1?s(!0):o(n+1):s(!1)}))};o(0)},_=function(t,r,i,s){if(l(i.getLib))return i._extend(i.getLib),void s(i);if(i.offline)s(i._get_fallback_config());else{var o="geetest_"+p();e[o]=function(t){"success"==t.status?s(t.data):t.status?s(i._get_fallback_config()):s(t),e[o]=void 0;try{delete e[o]}catch(r){}},b(i.protocol,t,r,{gt:i.gt,callback:o},(function(e){e&&s(i._get_fallback_config())}))}},y=function(e,t){var r={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!==typeof t.onError)throw new Error(r[e]);t.onError(r[e])},$=function(){return e.Geetest||t.getElementById("gt_lib")};$()&&(h.slide="loaded"),e.initGeetest=function(t,r){var i=new o(t);t.https?i.protocol="https://":t.protocol||(i.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(i.apiserver="yumchina.geetest.com/",i.api_server="yumchina.geetest.com"),l(t.getType)&&i._extend(t.getType),_([i.api_server||i.apiserver],i.typePath,i,(function(t){var s=t.type,o=function(){i._extend(t),r(new e.Geetest(i))};d[s]=d[s]||[];var n=h[s]||"init";"init"===n?(h[s]="loading",d[s].push(o),b(i.protocol,t.static_servers||t.domains,t[s]||t.path,null,(function(e){if(e)h[s]="fail",y("networkError",i);else{h[s]="loaded";for(var t=d[s],r=0,o=t.length;r<o;r+=1){var n=t[r];u(n)&&n()}d[s]=[]}}))):"loaded"===n?o():"fail"===n?y("networkError",i):"loading"===n&&d[s].push(o)}))}}(window)}}]);
//# sourceMappingURL=776.d2f85cfa.js.map